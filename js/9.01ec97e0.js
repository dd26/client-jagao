(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"05d7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("div",{staticClass:"col-12 row q-pa-md q-pt-xl q-px-lg"},[s("q-btn",{attrs:{icon:"arrow_back_ios",round:"",color:"secondary",size:"sm",flat:""},on:{click:function(e){return t.$router.go(-1)}}}),s("div",{staticClass:"text-primary col-12 text-center",staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v("Service #"+t._s(this.$route.params.id))])],1),s("section",{staticClass:"row q-px-xl justify-center",staticStyle:{position:"relative"}},[s("section",{staticClass:"row col-11 text-center status-style justify-around text-bold items-center",staticStyle:{"font-size":"20px"},on:{click:t.openChangeStatus}},[s("div",{staticClass:"col-12 text-center"},[t._v(t._s(t.statuteObj.name))]),s("div",{staticClass:"badge-style",style:"background-color: "+t.statuteObj.color})]),t.isOpenStatute?s("section",{staticClass:"col-12 row justify-center"},t._l(t.states,(function(e){return s("section",{key:e.id,staticClass:"row col-12 justify-center items-center"},[e.id!==t.statuteObj.id?s("section",{staticClass:"row col-11 text-center status-style justify-around text-bold items-center",staticStyle:{"font-size":"20px"},on:{click:function(s){return t.changeStatus(e.id)}}},[s("div",{staticClass:"col-12 text-center"},[t._v(t._s(e.name))]),s("div",{staticClass:"badge-style",style:"background-color:"+e.color})]):t._e()])})),0):t._e()]),t.form&&t.form.specialist?s("section",{staticClass:"row q-px-lg q-pt-lg"},[s("section",{staticClass:"col-3"},[s("q-avatar",{attrs:{size:"85px"}},[s("img",{attrs:{src:t.$api_url()+"image/specialists/"+t.form.specialist.id,alt:"employee_img"}})])],1),s("section",{staticClass:"col-8 row q-pl-md"},[s("section",{staticClass:"col-12 row"},[s("div",{staticClass:"col-12 text-bold text-primary",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.form.specialist.user.name))]),s("div",{staticStyle:{color:"#5C5C5C","font-size":"14px","font-weight":"500"}},[t._v("Employee")]),s("section",{staticClass:"row col-12 items-center q-pt-xs"},[s("q-icon",{attrs:{name:"img:vectors/phone1.svg"}}),s("div",{staticClass:"text-primary q-pl-xs",staticStyle:{"font-size":"12px","font-weight":"400"}},[t._v(t._s(t.form.specialist.phone))])],1)])])]):t._e(),t.form?s("section",{staticClass:"row q-px-lg"},[s("div",{staticClass:"text-bold text-primary q-py-md q-pt-xl text-h6"},[t._v("Requeriments")]),s("s-category-item",t._b({staticClass:"col-12"},"s-category-item",t.form,!1))],1):t._e(),t.form?s("section",{staticClass:"col-12 row q-px-lg q-pt-md"},[s("div",{staticClass:"text-bold text-primary q-pb-md text-h6 col-12"},[t._v("Date and time")]),s("section",{staticClass:"col-12 row q-pa-md items-center",staticStyle:{"background-color":"#D9F2EE","border-radius":"11px",color:"#5C5C5C"}},[s("div",[t._v(t._s(t.form.right_now?"Right now":t.formatDate))]),s("q-space"),s("q-btn",{attrs:{icon:"edit",round:"",color:"primary",size:"md",flat:""},on:{click:t.openChangeRequestDate}})],1)]):t._e(),t.form&&t.form.observations?s("section",{staticClass:"row q-px-lg"},[s("div",{staticClass:"text-bold text-primary q-py-md text-h6"},[t._v("Observations")]),s("section",{staticClass:"col-12 row q-pa-md",staticStyle:{"background-color":"#D9F2EE","border-radius":"11px"}},[s("div",{staticClass:"col-12",staticStyle:{color:"#5C5C5C"}},[t._v(t._s(t.form.observations))])])]):t._e(),t.form?s("section",{staticClass:"row q-px-lg q-mt-xl q-mx-lg q-py-md",staticStyle:{"background-color":"#D9F2EE","border-radius":"8px"}},[t.form.discount?s("section",{staticClass:"col-12 row justify-between items-center"},[s("div",{staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"16px"}},[t._v("Amount "),s("br"),t._v("(- Comision)")]),s("div",{staticClass:"text-primary",staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"25px"}},[t._v(t._s(t.form.total)+"$ - "+t._s(t.form.discount_amount)+"$")])]):t._e(),s("section",{staticClass:"col-12 row justify-between items-center"},[s("div",{staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"16px"}},[t._v("Total")]),s("div",{staticClass:"text-primary",staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"32px"}},[t._v(t._s(t.totalAmount)+"$")])])]):t._e(),s("section",{staticClass:"row q-py-lg q-px-xl justify-center q-pt-xl"},[s("q-btn",{staticClass:"q-py-sm q-px-xl q-mt-md",staticStyle:{"border-radius":"8px","background-color":"#E23D3D",color:"white"},attrs:{label:"Cancel"},on:{click:function(e){t.cancelServiceDlg=!0}}})],1),s("q-dialog",{model:{value:t.changeDateDlg,callback:function(e){t.changeDateDlg=e},expression:"changeDateDlg"}},[s("service-date",{on:{save:t.changeRequestDate}})],1),s("q-dialog",{model:{value:t.cancelServiceDlg,callback:function(e){t.cancelServiceDlg=e},expression:"cancelServiceDlg"}},[s("dialogs-component",{attrs:{title:"are you sure to cancel the service?",confirmLabel:"Yes",cancelLabel:"No"},on:{confirm:t.cancelService}})],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"q-py-lg",staticStyle:{"border-radius":"8px"}},[s("q-card-section",{staticClass:"row justify-center"},[s("div",{staticClass:"text-center col-12 text-primary",staticStyle:{"font-weight":"700","font-size":"20px"}},[t._v(" "+t._s(t.title)+" ")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-7 q-mt-md",staticStyle:{border:"3px solid #00A58D","font-weight":"900"},attrs:{label:t.cancelLabel,rounded:"",color:"white","text-color":"primary"}}),s("q-btn",{staticClass:"col-7 q-mt-md",staticStyle:{"font-weight":"900",color:"#FFF !important","background-color":"#00A58D"},attrs:{label:t.confirmLabel,"text-color":"white",rounded:""},on:{click:function(e){return t.$emit("confirm")}}})],1)],1)},r=[],c={props:["title","content","confirmLabel","cancelLabel"],methods:{}},l=c,n=s("2877"),m=s("f09f"),d=s("a370"),u=s("9c40"),p=s("7f67"),f=s("eebe"),h=s.n(f),g=Object(n["a"])(l,i,r,!1,null,null,null),v=g.exports;h()(g,"components",{QCard:m["a"],QCardSection:d["a"],QBtn:u["a"]}),h()(g,"directives",{ClosePopup:p["a"]});var C=s("ee22"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"q-pt-sm q-px-sm q-pb-md",staticStyle:{"border-radius":"12px"}},[s("q-card-section",{staticClass:"row"},[s("section",{staticClass:"col-12 row"},[s("div",{staticClass:"text-primary",staticStyle:{"font-size":"20px"}},[t._v("Change date")]),t.$v.form.date.$error?s("div",{staticClass:"text-negative text-bold col-12"},[t._v(" The date is required!")]):t._e(),s("q-checkbox",{staticClass:"col-12 text-primary",attrs:{"keep-color":"",val:!0,label:"Right now",color:"primary",size:"lg"},model:{value:t.form.right_now,callback:function(e){t.$set(t.form,"right_now",e)},expression:"form.right_now"}}),s("q-date",{staticClass:"col-12 no-shadow",attrs:{minimal:"",color:"red",disable:t.form.right_now},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),s("section",{staticClass:"col-12 row"},[s("div",{class:t.form.right_now?"text-grey":"text-primary",staticStyle:{"font-size":"20px"}},[t._v("Hour")]),s("q-input",{staticClass:"col-12 style-time q-mt-md",attrs:{mask:"time",rules:["time"],borderless:"",dense:"",error:t.$v.form.time.$error,disable:t.form.right_now,"input-style":"color: #00A58D"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time",color:t.form.right_now?"grey":"primary"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}},[s("div",{staticClass:"row items-center justify-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)],1)]),s("q-card-actions",{staticClass:"row justify-center q-pt-xl",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-bold style-btn-cancel",attrs:{label:"Cancel",flat:"",color:"negative",unelevated:"","no-caps":""}}),s("q-btn",{staticClass:"style-btn",attrs:{label:"Save",unelevated:"","no-caps":"",disabled:t.$v.form.$invalid},on:{click:t.save}})],1)],1)},x=[],y=s("b5ae"),q={data(){return{form:{right_now:!1,date:"",time:""}}},methods:{save(){this.$v.form.$invalid||this.$emit("save",this.form)}},validations:{form:{date:{requiredIf:Object(y["requiredIf"])((t=>!t.right_now))},time:{requiredIf:Object(y["requiredIf"])((t=>!t.right_now))}}}},w=q,_=(s("f1d5"),s("8f8e")),S=s("52ee"),D=s("27f9"),$=s("0016"),k=s("7cbe"),j=s("ca78"),Q=s("4b7e"),z=Object(n["a"])(w,b,x,!1,null,"0399683a",null),O=z.exports;h()(z,"components",{QCard:m["a"],QCardSection:d["a"],QCheckbox:_["a"],QDate:S["a"],QInput:D["a"],QIcon:$["a"],QPopupProxy:k["a"],QTime:j["a"],QBtn:u["a"],QCardActions:Q["a"]}),h()(z,"directives",{ClosePopup:p["a"]});const E=[{id:1,name:"Working",color:"#97DDFD"},{id:0,name:"Pending",color:"#EEA414"},{id:2,name:"Finished",color:"#00A78E"}];var A={components:{SCategoryItem:C["a"],ServiceDate:O,DialogsComponent:v},data(){return{route:"master_request_services",states:E,isOpenStatute:!1,statuteValue:0,form:null,changeDateDlg:!1,cancelServiceDlg:!1}},mounted(){this.getData()},computed:{statuteObj(){return this.states.find((t=>t.id===this.statuteValue))},totalAmount(){return this.form.discount?this.form.total-this.form.discount_amount:this.form.total},formatDate(){return this.$formatDate(this.form.date_request,"D/M/YYYY HH:mm A")}},methods:{openChangeRequestDate(){this.dateRequest=null,this.changeDateDlg=!0},async changeRequestDate(t){await this.$api.put(`${this.route}/${this.form.id}/date/change`,t).then((t=>{this.changeDateDlg=!1,this.getData()}))},async cancelService(){const{id:t}=this.$route.params;this.$q.loading.show();const e=await this.$api.delete(`${this.route}/${t}`);this.$q.loading.hide(),e&&(this.$router.push("/home"),this.$q.notify({color:"positive",message:"Service canceled"}))},async getData(){this.$q.loading.show();const t=await this.$api.get(`${this.route}/${this.$route.params.id}`);this.$q.loading.hide(),this.form=t,this.statuteValue=t.state,2===this.statuteValue&&this.$router.push("/services/detail/"+this.$route.params.id+"/customer/calification")},openChangeStatus(){this.isOpenStatute=!this.isOpenStatute},changeStatus(t){this.statuteValue=t,this.isOpenStatute=!1}}},F=A,I=(s("b4db"),s("9989")),R=s("cb32"),L=s("2c91"),P=s("24e8"),V=s("54e1"),Y=Object(n["a"])(F,a,o,!1,null,"535b912f",null);e["default"]=Y.exports;h()(Y,"components",{QPage:I["a"],QBtn:u["a"],QAvatar:R["a"],QIcon:$["a"],QSpace:L["a"],QDialog:P["a"],QBanner:V["a"]})},"1b8d":function(t,e,s){},"48f0":function(t,e,s){},b4db:function(t,e,s){"use strict";s("1b8d")},f1d5:function(t,e,s){"use strict";s("48f0")}}]);