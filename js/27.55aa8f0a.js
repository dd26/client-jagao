(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"44b3":function(t,e,s){"use strict";s("5089")},5089:function(t,e,s){},a131:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("section",{staticStyle:{position:"relative",height:"175px","border-radius":"12px 12px 0 0","background-color":"#97DDFD",overflow:"hidden"}},[s("q-btn",{staticStyle:{position:"absolute",left:"16px",top:"16px"},attrs:{to:"/profile/employee",dense:"",flat:"",round:"",size:"15px",icon:"arrow_back_ios",color:"white"}}),t.form.category_id?s("img",{staticStyle:{"object-fit":"fill"},attrs:{src:t.$api_url()+"image/categories/"+t.form.category_id,alt:"categori_img",width:"100%",height:"100%"}}):s("img",{staticStyle:{"object-fit":"fill"},attrs:{src:"illustrations/14.png",alt:"categori_img",width:"100%",height:"100%"}}),t.form.category_id?t._e():s("div",{staticClass:"text-primary",staticStyle:{"font-weight":"700","font-size":"25px",position:"absolute",left:"16px",top:"35%"}},[t._v("New Service")])],1),s("section",{staticClass:"row q-pa-md q-gutter-y-lg"},[s("div",{staticClass:"row col-12"},[s("div",{staticClass:"col-12 text-primary",staticStyle:{"font-weight":"700","font-size":"25px"}},[t._v("Category")]),s("q-select",{staticClass:"col-12 q-mt-sm no-border-inputs",staticStyle:{"background-color":"#EDEDED"},attrs:{options:t.categories,dense:"",borderless:"","option-value":"id","option-label":"name","map-options":"","emit-value":""},scopedSlots:t._u([{key:"selected-item",fn:function(e){return[s("div",{staticClass:"text-primary"},[t._v(t._s(e.opt.name))])]}}]),model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}})],1),t.form.category_id?s("div",{staticClass:"col-12 text-primary text-bold",staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v("Subcategory")]):t._e(),t.form.category_id?s("section",{staticClass:"row col-12"},[s("q-list",{staticClass:"col-12 q-gutter-y-md"},t._l(t.subcategories,(function(e,i){return s("select-s-category-item",t._b({key:i,attrs:{hasOperatorBtn:!1},model:{value:e.select,callback:function(s){t.$set(e,"select",s)},expression:"item.select"}},"select-s-category-item",e,!1))})),1)],1):t._e(),!t.form.category_id||t.subcategories&&0!=t.subcategories.length?t._e():s("div",{staticClass:"col-12 row justify-center"},[s("img",{attrs:{src:"illustrations/6.svg",alt:"ilus1"}})]),t.form.category_id?s("div",{staticClass:"col-12 row justify-center q-pt-lg"},[s("q-btn",{staticClass:"col-12 style-btn",attrs:{label:"Work",color:"primary",unelevated:"","no-caps":""},on:{click:t.saveService}})],1):t._e()])])},o=[],a=s("2645"),r=s("b5ae"),c={components:{SelectSCategoryItem:a["a"]},data(){return{form:{category_id:""},categories:[],subcategories:[]}},watch:{"form.category_id"(t){t&&this.getData()}},computed:{subcategoriesCheck(){return this.subcategories.filter((t=>t.select))},hasDocumentSCategories(){return this.subcategoriesCheck.find((t=>1===t.has_document))}},mounted(){this.getCategories(),this.$route.query.category_id&&(this.form.category_id=parseInt(this.$route.query.category_id))},methods:{async getData(){await this.$api.get("subcategories_by_category_id/"+this.form.category_id).then((t=>{this.subcategories=t}))},chekerUserSCategories(t){this.$api.get("/specialist_services/category/"+this.form.category_id).then((t=>{t&&(console.log(t,"res cheker",this.subcategories,"subcategories"),this.subcategories.forEach((e=>{e.select=t.some((t=>t.subcategory_id===e.id))})),console.log(this.subcategories,"subcategories"))}))},async saveService(){this.$q.loading.show(),await this.$api.post("specialist_services/category/"+this.form.category_id).then((t=>{this.$q.loading.hide(),t&&this.$router.go(-1)}))},clickFileSCategory(t){console.log(t,this.$refs[t][0],"refs"),this.$refs[t][0].$el.click()},async getCategories(){this.$q.loading.show();const t=await this.$api.get("categories/specialist/not_worked");this.$q.loading.hide(),t&&(this.categories=t,this.categories=this.categories.filter((t=>!0!==t.is_parent)))},subCadena(t,e){return t.length>e?t.substring(0,e)+"...":t}},validations:{subcategoriesCheck:{$each:{documentFile:{required:Object(r["requiredIf"])((t=>1===t.has_document))}}}}},l=c,n=(s("44b3"),s("2877")),g=s("9989"),d=s("9c40"),u=s("ddd8"),h=s("1c1c"),p=s("eebe"),y=s.n(p),m=Object(n["a"])(l,i,o,!1,null,"58655f15",null);e["default"]=m.exports;y()(m,"components",{QPage:g["a"],QBtn:d["a"],QSelect:u["a"],QList:h["a"]})}}]);