(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{1084:function(t,e,s){},"37d7":function(t,e,s){"use strict";s("1084")},"7eb0":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("div",{staticClass:"row q-px-md q-pt-md"},[s("q-btn",{attrs:{dense:"",flat:"",size:"11px",icon:"img:vectors/back1.svg"},on:{click:function(e){return t.$router.go(-1)}}}),s("q-space"),s("q-btn",{attrs:{dense:"",flat:"",round:"",size:"15px",icon:"img:vectors/tools1.svg"}})],1),s("div",{staticClass:"text-center text-primary",staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v("Add an Address")]),s("section",{staticClass:"q-pa-lg"},[s("img",{attrs:{src:"vectors/illustration1.svg"}})]),s("section",{staticClass:"row q-pa-md q-px-lg"},[s("div",{staticClass:"col-12 row q-pt-md"},[s("div",{staticClass:"col-12 q-pb-sm"},[t._v("Name")]),s("q-input",{staticClass:"col-12",attrs:{dense:"","bg-color":"grey-3",placeholder:"Momâ€™s House",outlined:"",error:t.$v.form.name.$error},on:{blur:function(e){return t.$v.form.name.$touch()}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),s("div",{staticClass:"col-12 row q-pt-md"},[s("div",{staticClass:"col-12 q-pb-sm"},[t._v("City / Town")]),s("q-select",{staticClass:"col-12",attrs:{dense:"",options:t.cities,"bg-color":"grey-3",placeholder:"1234 5678 9101 1112",outlined:"","option-label":"name","option-value":"id","map-options":"","emit-value":"",error:t.$v.form.city_id.$error},on:{blur:function(e){return t.$v.form.city_id.$touch()}},model:{value:t.form.city_id,callback:function(e){t.$set(t.form,"city_id",e)},expression:"form.city_id"}})],1),s("div",{staticClass:"col-12 row justify-between"},[s("div",{staticClass:"col-12 row q-pt-md"},[s("div",{staticClass:"col-12 q-pb-sm"},[t._v("Address")]),s("q-input",{staticClass:"col-12",attrs:{dense:"","bg-color":"grey-3",placeholder:"Your Adress #1-02",outlined:"",type:"textarea",error:t.$v.form.address.$error},on:{blur:function(e){return t.$v.form.address.$touch()}},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)]),s("div",{staticClass:"col-12 row q-pt-md"},[s("div",{staticClass:"col-12 q-pb-sm"},[t._v("Zip / Postal code")]),s("q-input",{staticClass:"col-12",attrs:{dense:"","bg-color":"grey-3",placeholder:"12345",outlined:"",error:t.$v.form.postalCode.$error},on:{blur:function(e){return t.$v.form.postalCode.$touch()}},model:{value:t.form.postalCode,callback:function(e){t.$set(t.form,"postalCode",e)},expression:"form.postalCode"}})],1),s("div",{staticClass:"col-12 row q-pt-md"},[s("div",{staticClass:"col-12"},[t._v("Upload an image (Optional)")]),s("q-file",{staticClass:"col-12 q-pt-xs",attrs:{outlined:"",dense:"",label:"click here to upload an image",accept:"image/*","bg-color":"grey-3"},model:{value:t.addressImage,callback:function(e){t.addressImage=e},expression:"addressImage"}})],1),s("div",{staticClass:"col-12 row justify-center q-pt-lg"},[s("q-btn",{attrs:{dense:"",color:"primary",icon:"add",round:"",size:"xl"},on:{click:t.save}})],1)])])},i=[],a=s("9424"),r=s("b5ae"),n={mixins:[a["a"]],data(){return{form:{name:null,city_id:null,address:null,postalCode:null},route:"addresses",formData:!0,cities:[],addressImage:null}},mounted(){this.getCities()},methods:{beforeValidate(){this.addressImage&&(this.form.image=this.addressImage)},afterSave(){this.$router.push("/success?message=You successfully added an address!")},async getCities(){const t=await this.$api.get("cities");this.cities=t}},validations:{form:{name:{required:r["required"]},city_id:{required:r["required"]},address:{required:r["required"]},postalCode:{required:r["required"]}}}},d=n,c=(s("37d7"),s("2877")),l=s("9989"),f=s("9c40"),u=s("2c91"),m=s("27f9"),h=s("ddd8"),p=s("7d53"),v=s("823b"),g=s("eebe"),$=s.n(g),b=Object(c["a"])(d,o,i,!1,null,"7bbe1520",null);e["default"]=b.exports;$()(b,"components",{QPage:l["a"],QBtn:f["a"],QSpace:u["a"],QInput:m["a"],QSelect:h["a"],QFile:p["a"],QTabPanel:v["a"]})},9424:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var o=s("f508");const i={data(){return{insert:!0}},async mounted(){"function"===typeof this.beforeMounted&&this.beforeMounted(),console.log(this.id,"id"),this.id&&(await this.getRecord(),this.insert=!1),"function"===typeof this.afterMounted&&this.afterMounted()},methods:{async getRecord(){o["a"].show(),await this.$api.get(`${this.route}/${this.id}`).then((t=>{this.form=t,"function"===typeof this.afterGetRecord&&this.afterGetRecord(t),o["a"].hide()}))},save(){if("function"===typeof this.beforeValidate&&this.beforeValidate(),this.$v.form.$touch(),"function"===typeof this.afterValidate&&this.afterValidate(),console.log("save",this.$v.form,this.form,"form"),!this.$v.form.$error)if(this.$q.loading.show(),"function"===typeof this.beforeSave&&this.beforeSave(),this.insert)if(this.formData){const t=new FormData;for(const e in this.form)t.append(e,this.form[e]);console.log(t,"formData"),this.$api.post(this.route,t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{this.$q.loading.hide(),t&&("function"===typeof this.afterSave&&this.afterSave(t),this.stayAfterSave&&this.$router.go(-1))}))}else this.$api.post(this.route,this.form).then((t=>{this.$q.loading.hide(),t&&("function"===typeof this.afterSave&&this.afterSave(t),this.stayAfterSave&&this.$router.go(-1))}));else this.$api.put(`${this.route}/${this.id}`,this.form).then((t=>{this.$q.loading.hide(),t&&("function"===typeof this.afterSave&&this.afterSave(t),this.$q.notify({type:"positive",message:"registry modified successfully"}),this.stayAfterSave&&this.$router.go(-1))}))}},created(){}}}}]);