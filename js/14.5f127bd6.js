(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"3dcd":function(e,t,s){},"713b":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",[s("q-toolbar",{staticClass:"row justify-between"},[s("q-btn",{attrs:{flat:"",dense:"",round:"",size:"10px",icon:"img:vectors/menu1.svg","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),e.user.id?s("q-btn",{attrs:{flat:"",round:"",dense:"",to:2===e.role?"/profile/employee":"/profile/client"}},[s("q-avatar",{attrs:{size:"26px"}},[s("img",{attrs:{src:e.userAvatarUrl}})])],1):e._e()],1)],1),s("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-primary"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[s("section",{staticClass:"fit column text-white"},[s("section",{staticClass:"col-2 q-pa-md"},[s("div",{staticClass:"row"},[s("img",{attrs:{src:"logos/logo2.svg",width:"100px",height:"90px"}})])]),s("section",{staticClass:"col-7 column justify-center"},[s("q-list",{staticClass:"text-white"},e._l(e.menuItems,(function(t,i){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,attrs:{clickable:"",to:t.to,"active-class":"my-menu-link"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:t.icon,size:"sm",color:"white"}})],1),s("q-item-section",[s("q-item-label",[e._v(" "+e._s(t.title)+" ")])],1)],1)})),1)],1),s("section",{staticClass:"col-3 q-pa-md column justify-end"},[s("div",{staticClass:"row"},[e.isUserSession?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-12",attrs:{clickable:""},on:{click:e.logoutBtnClicked}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"img:vectors/icon5.svg",size:"sm",color:"white"}})],1),s("q-item-section",[s("q-item-label",[e._v(" Log Out ")])],1)],1):e._e(),s("section",{staticClass:"row col-12 q-pa-md"},[s("div",{staticClass:"text-subtitle1 text-bold col-12"},[e._v("Jagao 2022")]),s("div",{staticClass:"text-caption col-12"},[e._v("Privacy Policy")])])],1)])])]),e.user.id?s("q-footer",[s("q-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("q-tab",{attrs:{name:1,icon:"img:vectors/home1.svg"},on:{click:function(t){return e.$router.push(e.routeFooter.home)}}}),s("q-tab",{attrs:{name:3,icon:"img:vectors/notify1.svg"},on:{click:function(t){return e.$router.push(e.routeFooter.notifications)}}},[e.hasNotifications?s("div",{staticClass:"badge-style"}):e._e()])],1)],1):e._e(),s("q-page-container",{staticClass:"bg-primary"},[s("section",{staticClass:"card-view"},[s("router-view")],1)])],1)},o=[],a=s("2f62");const c=[{title:"Home",icon:"img:vectors/home1.svg",to:"/home"},{title:"Pending services",icon:"img:vectors/icon7.svg",to:"/services/pending/customer"},{title:"Working services",icon:"img:vectors/icon7.svg",to:"/services/working/customer"},{title:"Successful services",icon:"img:vectors/icon7.svg",to:"/services/susuccessful/customer"},{title:"Help",icon:"img:vectors/icon4.svg",to:"/help"}],r=[{title:"Home",icon:"img:vectors/home1.svg",to:"/home/employee"},{title:"Working services",icon:"img:vectors/icon7.svg",to:"/services/working/employee"},{title:"Successful services",icon:"img:vectors/icon7.svg",to:"/services/susuccessful/employee"},{title:"Transactions",icon:"img:vectors/transaction1.svg",to:"/home/employee"},{title:"Help",icon:"img:vectors/icon4.svg",to:"/help"}],n=[{title:"Home",icon:"img:vectors/home1.svg",to:"/login"},{title:"Get started",icon:"img:vectors/user-plus.svg",to:"/register"}],l={home:"/home/employee",search:"/search",notifications:"/notifications/employee"},m={home:"/home",search:"/search",notifications:"/notifications/client"};var u={name:"MainLayout",data(){return{tab:1,leftDrawerOpen:!1,menuItems:c,userAvatarUrl:"vectors/avatar1.svg",role:null,routeFooter:{home:"/home",search:"/search",notifications:"/notifications/employee"},notifications:[],hasNotifications:!1,user:{}}},async mounted(){const e=JSON.parse(localStorage.getItem("JAGAO_SESSION_INFO"));if(e){const e=await this.$getUserInfo();this.getUserInfo(),e&&this.getNotifications()}else this.menuItems=n},computed:{isUserSession(){return null!==localStorage.getItem("JAGAO_SESSION_INFO")}},methods:{...Object(a["c"])("generals",["logout"]),logoutBtnClicked(){this.logout(),this.$router.push("/login")},async getUserInfo(){const e=await this.$getUserInfo();if(this.user=e,e){e.role_id=e.user.role_id;const t=3===e.role_id?"customers":"specialists";this.role=e.role_id,this.userAvatarUrl=`${this.$api_url()}image/${t}/${e.id}`,this.routeFooter=3===e.role_id?m:l,this.menuItems=3===e.role_id?c:r}},getNotifications(){this.$getNotifications().then((e=>{this.notifications=e,e.length>0&&(this.hasNotifications=!0)}))}}},v=u,g=(s("c611"),s("2877")),p=s("4d5a"),f=s("e359"),h=s("65c6"),d=s("9c40"),b=s("cb32"),w=s("9404"),q=s("1c1c"),y=s("66e5"),_=s("4074"),k=s("0016"),C=s("0170"),I=s("7ff0"),O=s("429b"),Q=s("7460"),S=s("09e3"),N=s("714f"),x=s("eebe"),$=s.n(x),U=Object(g["a"])(v,i,o,!1,null,"b56dc190",null);t["default"]=U.exports;$()(U,"components",{QLayout:p["a"],QHeader:f["a"],QToolbar:h["a"],QBtn:d["a"],QAvatar:b["a"],QDrawer:w["a"],QList:q["a"],QItem:y["a"],QItemSection:_["a"],QIcon:k["a"],QItemLabel:C["a"],QFooter:I["a"],QTabs:O["a"],QTab:Q["a"],QPageContainer:S["a"]}),$()(U,"directives",{Ripple:N["a"]})},c611:function(e,t,s){"use strict";s("3dcd")}}]);