(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"1c40":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-pb-xl"},[s("div",{staticClass:"col-12 row q-pa-md q-pt-xl q-px-lg"},[s("q-btn",{attrs:{icon:"arrow_back_ios",round:"",color:"secondary",size:"sm",flat:""},on:{click:function(e){return t.$router.go(-1)}}}),s("div",{staticClass:"text-primary col-12 text-center",staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v("Service #"+t._s(this.$route.params.id))])],1),s("section",{staticClass:"row q-px-xl justify-center",staticStyle:{position:"relative"}},[s("section",{staticClass:"row col-11 text-center status-style justify-around text-bold items-center",staticStyle:{"font-size":"20px"},on:{click:t.openChangeStatus}},[s("div",{staticClass:"col-12 text-center"},[t._v(t._s(t.statuteObj.name))]),s("div",{staticClass:"badge-style",style:"background-color: "+t.statuteObj.color})]),t.isOpenStatute?s("section",{staticClass:"col-12 row justify-center"},[t._l(t.states,(function(e){return s("section",{key:e.id,staticClass:"row col-12 justify-center items-center"},[e.id!==t.statuteObj.id?s("section",{staticClass:"row col-11 text-center status-style justify-around text-bold items-center",staticStyle:{"font-size":"20px"},on:{click:function(s){return t.changeStatus(e.id)}}},[s("div",{staticClass:"col-12 text-center"},[t._v(t._s(e.name))]),s("div",{staticClass:"badge-style",style:"background-color:"+e.color})]):t._e()])})),0===t.statuteObj.id?s("section",{staticClass:"row col-11 text-center status-style justify-around text-bold items-center",staticStyle:{"font-size":"20px"},on:{click:function(e){t.acceptServiceDlg=!0}}},[s("div",{staticClass:"col-12 text-center"},[t._v("Accept Service")]),s("div",{staticClass:"badge-style",style:"background-color: #97DDFD"})]):t._e()],2):t._e()]),t.form&&t.form.user?s("section",{staticClass:"row q-px-lg q-pt-lg"},[s("section",{staticClass:"col-3"},[s("q-avatar",{attrs:{size:"85px"}},[s("img",{attrs:{src:t.$api_url()+"image/customers/"+t.form.customer.id,alt:"employee_img"}})])],1),s("section",{staticClass:"col-8 row q-pl-md"},[s("section",{staticClass:"col-12 row"},[s("div",{staticClass:"col-12 text-bold text-primary",staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.form.user.name)+" ")]),s("div",{staticStyle:{color:"#5C5C5C","font-size":"14px","font-weight":"500"}},[t._v("Customer")]),s("section",{staticClass:"row col-12 items-center q-pt-xs"},[s("q-icon",{attrs:{name:"img:vectors/location2.svg"}}),s("div",{staticClass:"text-primary q-pl-xs",staticStyle:{"font-size":"12px","font-weight":"400"}},[t._v(t._s(t.form.address_name))])],1),s("section",{staticClass:"row col-12 items-center q-pt-xs"},[s("q-icon",{attrs:{name:"img:vectors/phone1.svg"}}),s("div",{staticClass:"text-primary q-pl-xs",staticStyle:{"font-size":"12px","font-weight":"400"}},[t._v(t._s(t.form.customer.phone))])],1)])])]):t._e(),t.form?s("section",{staticClass:"row q-px-lg"},[s("div",{staticClass:"text-bold text-primary q-py-md q-pt-lg text-h6"},[t._v("Requeriments")]),s("s-category-item",t._b({staticClass:"col-12"},"s-category-item",t.form,!1))],1):t._e(),t.form?s("section",{staticClass:"col-12 row q-px-lg q-pt-md"},[s("div",{staticClass:"text-bold text-primary q-pb-md text-h6 col-12"},[t._v("Date and time")]),s("section",{staticClass:"col-12 row q-pa-md items-center",staticStyle:{"background-color":"#D9F2EE","border-radius":"11px",color:"#5C5C5C"}},[s("div",[t._v(t._s(t.form.right_now?"Right now":t.formatDate))])])]):t._e(),t.form&&t.form.observations?s("section",{staticClass:"row q-px-lg"},[s("div",{staticClass:"text-bold text-primary q-py-md text-h6"},[t._v("Observations")]),s("section",{staticClass:"col-12 row q-pa-md",staticStyle:{"background-color":"#D9F2EE","border-radius":"11px"}},[s("div",{staticClass:"col-12",staticStyle:{color:"#5C5C5C"}},[t._v(t._s(t.form.observations))])])]):t._e(),t.form?s("section",{staticClass:"row q-px-lg q-mt-xl q-mx-lg q-py-md",staticStyle:{"background-color":"#D9F2EE","border-radius":"8px"}},[t.form.discount?s("section",{staticClass:"col-12 row justify-between items-center"},[s("div",{staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"16px"}},[t._v("Amount "),s("br"),t._v("(- Comision)")]),s("div",{staticClass:"text-primary",staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"25px"}},[t._v(t._s(t.form.total)+"$ - "+t._s(t.form.discount_amount)+"$")])]):t._e(),s("section",{staticClass:"col-12 row justify-between items-center"},[s("div",{staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"16px"}},[t._v("Total")]),s("div",{staticClass:"text-primary",staticStyle:{color:"#5C5C5C","font-weight":"700","font-size":"32px"}},[t._v(t._s(t.totalAmount)+"$")])])]):t._e(),s("q-dialog",{attrs:{"full-width":""},model:{value:t.acceptServiceDlg,callback:function(e){t.acceptServiceDlg=e},expression:"acceptServiceDlg"}},[s("q-card",{staticClass:"my-font q-pb-sm",staticStyle:{"border-radius":"12px"}},[s("q-card-section",[s("div",{staticClass:"text-bold text-primary text-h6"},[t._v("Accept Service")]),s("p",[t._v("Estimated Time of Arrival?")]),s("section",{staticClass:"row q-gutter-x-sm q-gutter-y-sm justify-between"},[t._l(t.times,(function(e){return s("q-btn",{key:e.value,staticStyle:{"border-radius":"5px",width:"80px"},attrs:{label:e.label,color:"primary","no-caps":""},on:{click:function(s){return t.acceptService(e.value)}}})})),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{"border-radius":"5px",width:"80px"},attrs:{label:"Cancel",color:"negative","no-caps":""}})],2)])],1)],1)],1)},i=[],o=s("ee22");const c=[{id:1,name:"Working",color:"#97DDFD"},{id:0,name:"Pending",color:"#EEA414"},{id:2,name:"Finished",color:"#00A78E"}],r=[{label:"15 Min",value:15},{label:"30 Min",value:30},{label:"60 Min",value:60},{label:"90 Min",value:90},{label:"120 Min",value:120}];var l={components:{SCategoryItem:o["a"]},data(){return{route:"master_request_services",states:c,isOpenStatute:!1,statuteValue:0,form:null,acceptServiceDlg:!1,times:r}},mounted(){this.getData()},computed:{statuteObj(){return this.states.find((t=>t.id===this.statuteValue))},totalAmount(){return this.form.discount?this.form.total-this.form.discount_amount:this.form.total},formatDate(){return this.$formatDate(this.form.date_request,"D/M/YYYY HH:mm A")}},methods:{async cancelService(){const{id:t}=this.$route.params;this.$q.loading.show();const e=await this.$api.delete(`${this.route}/${t}`);this.$q.loading.hide(),e&&this.$router.go(-1)},async getData(){this.$q.loading.show();const t=await this.$api.get(`${this.route}/${this.$route.params.id}`);this.$q.loading.hide(),this.form=t,this.statuteValue=t.state,2===this.statuteValue&&this.$router.push("/services/detail/"+this.$route.params.id+"/employee/calification")},openChangeStatus(){this.isOpenStatute=!this.isOpenStatute},async changeStatus(t){if(2===t){this.$q.loading.show();const e=await this.$api.put(`${this.route}/${this.form.id}/status/${t}`);this.$q.loading.hide(),this.getData(),console.log({res:e})}this.isOpenStatute=!1},async acceptService(t){const e=t+" minutes";this.$q.loading.show();const s=await this.$api.put(`${this.route}/${this.form.id}/status/1`,{time:e});this.$q.loading.hide(),s&&(this.$q.notify({color:"positive",message:"Service accepted"}),this.getData(),this.acceptServiceDlg=!1)}}},n=l,u=(s("a7aa"),s("2877")),d=s("9989"),m=s("9c40"),p=s("cb32"),v=s("0016"),f=s("24e8"),g=s("f09f"),h=s("a370"),C=s("54e1"),x=s("7f67"),y=s("eebe"),_=s.n(y),b=Object(u["a"])(n,a,i,!1,null,"312c8cd8",null);e["default"]=b.exports;_()(b,"components",{QPage:d["a"],QBtn:m["a"],QAvatar:p["a"],QIcon:v["a"],QDialog:f["a"],QCard:g["a"],QCardSection:h["a"],QBanner:C["a"]}),_()(b,"directives",{ClosePopup:x["a"]})},3726:function(t,e,s){"use strict";s("6cca")},"6cca":function(t,e,s){},a7aa:function(t,e,s){"use strict";s("d2be")},d2be:function(t,e,s){},ee22:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-item",{staticClass:"q-py-lg"},[s("q-item-section",[s("q-item-label",{staticClass:"text-primary text-h6 text-bold"},[t._v(t._s(t.category_name))]),s("q-item-label",{staticClass:"q-pl-md",attrs:{caption:""}},t._l(t.detail_request_service,(function(e){return s("li",{key:e.id,staticClass:"q-pt-xs"},[t._v("\n        "+t._s(e.service_name)+"\n      ")])})),0)],1),s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{rounded:"",size:"95px"}},[s("img",{attrs:{src:t.$api_url()+"image/categories/"+t.category_id,alt:"icono"}})])],1)],1)},i=[],o={props:["detail_request_service","category_name","category_id"]},c=o,r=(s("3726"),s("2877")),l=s("66e5"),n=s("4074"),u=s("0170"),d=s("cb32"),m=s("eebe"),p=s.n(m),v=Object(r["a"])(c,a,i,!1,null,"3180f818",null);e["a"]=v.exports;p()(v,"components",{QItem:l["a"],QItemSection:n["a"],QItemLabel:u["a"],QAvatar:d["a"]})}}]);