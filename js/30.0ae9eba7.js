(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"0b0a":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("div",{staticClass:"q-pa-md"},[o("q-btn",{attrs:{color:"secondary",icon:"arrow_back_ios",round:"",flat:"",size:"15px",to:"/accounts"}})],1),o("div",{staticClass:"q-px-lg text-primary",staticStyle:{"font-size":"20px","font-weight":"700"}},[t._v("Register new account")]),o("section",{staticClass:"row q-pa-lg q-gutter-y-lg"},[o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-12 q-pl-md q-pb-sm"},[t._v("Bank")]),o("q-select",{staticClass:"col-12",attrs:{options:t.banks,"bg-color":"grey-3",dense:"",outlined:"","emit-value":"","map-options":"",error:t.$v.form.bank.$error},on:{blur:function(e){return t.$v.form.bank.$touch()}},model:{value:t.form.bank,callback:function(e){t.$set(t.form,"bank",e)},expression:"form.bank"}})],1),o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-12"},[t._v("Account type")]),t.$v.form.accountType.$error?o("div",{staticClass:"col-12 text-caption text-negative"},[t._v("Select account type")]):t._e(),o("q-radio",{staticClass:"col-12",attrs:{val:"check",label:"Checks","keep-color":"",color:"primary"},model:{value:t.form.accountType,callback:function(e){t.$set(t.form,"accountType",e)},expression:"form.accountType"}}),o("q-radio",{staticClass:"col-12",attrs:{val:"saving",label:"Saving","keep-color":"",color:"primary"},model:{value:t.form.accountType,callback:function(e){t.$set(t.form,"accountType",e)},expression:"form.accountType"}})],1),o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-12 q-pl-md q-pb-sm"},[t._v("Route number")]),o("q-input",{staticClass:"col-12",attrs:{placeholder:"123456789","bg-color":"grey-3",dense:"",outlined:"",error:t.$v.form.routeNumber.$error},on:{blur:function(e){return t.$v.form.routeNumber.$touch()}},model:{value:t.form.routeNumber,callback:function(e){t.$set(t.form,"routeNumber",e)},expression:"form.routeNumber"}})],1),o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-12 q-pl-md q-pb-sm"},[t._v("Account number")]),o("q-input",{staticClass:"col-12",attrs:{placeholder:"1234 5678 9101 1213","bg-color":"grey-3",dense:"",outlined:"",error:t.$v.form.accountNumber.$error},on:{blur:function(e){return t.$v.form.accountNumber.$touch()}},model:{value:t.form.accountNumber,callback:function(e){t.$set(t.form,"accountNumber",e)},expression:"form.accountNumber"}})],1),o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-12 q-pl-md q-pb-sm"},[t._v("Full name")]),o("q-input",{staticClass:"col-12",attrs:{placeholder:"Your Full Name","bg-color":"grey-3",dense:"",outlined:"",error:t.$v.form.fullName.$error},on:{blur:function(e){return t.$v.form.fullName.$touch()}},model:{value:t.form.fullName,callback:function(e){t.$set(t.form,"fullName",e)},expression:"form.fullName"}})],1),o("div",{staticClass:"col-12 row justify-center q-pt-lg"},[o("q-btn",{attrs:{color:"primary",icon:"add",round:"",size:"lg"},on:{click:t.save}}),o("div",{staticClass:"col-12 text-center text-primary q-pt-sm",staticStyle:{"font-size":"20px","font-weight":"700"}},[t._v("Add")])],1)])])},r=[],s=o("9424"),i=o("b5ae"),l={mixins:[s["a"]],data(){return{form:{bank:0,accountType:null,routeNumber:null,accountNumber:null,fullName:null},banks:[{label:"Select a bank",value:0},{label:"Bank 1",value:1},{label:"Bank 2",value:2},{label:"Bank 3",value:3},{label:"Bank 4",value:4},{label:"Bank 5",value:5},{label:"Bank 6",value:6}],route:"banks"}},methods:{afterSave(){console.log("afterSave"),this.$router.push("/success?message=You successfully added a bank account!")}},validations:{form:{bank:{required:i["required"]},accountType:{required:i["required"]},routeNumber:{required:i["required"]},accountNumber:{required:i["required"]},fullName:{required:i["required"]}}}},n=l,c=o("2877"),u=o("9989"),f=o("9c40"),d=o("ddd8"),m=o("3786"),h=o("27f9"),p=o("eebe"),v=o.n(p),b=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=b.exports;v()(b,"components",{QPage:u["a"],QBtn:f["a"],QSelect:d["a"],QRadio:m["a"],QInput:h["a"]})},9424:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var a=o("f508");const r={data(){return{insert:!0}},async mounted(){"function"===typeof this.beforeMounted&&this.beforeMounted(),console.log(this.id,"id"),this.id&&(await this.getRecord(),this.insert=!1),"function"===typeof this.afterMounted&&this.afterMounted()},methods:{async getRecord(){a["a"].show(),await this.$api.get(`${this.route}/${this.id}`).then((t=>{this.form=t,"function"===typeof this.afterGetRecord&&this.afterGetRecord(t),a["a"].hide()}))},save(){if("function"===typeof this.beforeValidate&&this.beforeValidate(),this.$v.form.$touch(),"function"===typeof this.afterValidate&&this.afterValidate(),console.log("save",this.$v.form,this.form,"form"),!this.$v.form.$error)if(this.$q.loading.show(),"function"===typeof this.beforeSave&&this.beforeSave(),this.insert)if(this.formData){const t=new FormData;for(const e in this.form)t.append(e,this.form[e]);console.log(t,"formData"),this.$api.post(this.route,t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{this.$q.loading.hide(),t&&("function"===typeof this.afterSave&&this.afterSave(t),this.stayAfterSave&&this.$router.go(-1))}))}else this.$api.post(this.route,this.form).then((t=>{this.$q.loading.hide(),t&&("function"===typeof this.afterSave&&this.afterSave(t),this.stayAfterSave&&this.$router.go(-1))}));else this.$api.put(`${this.route}/${this.id}`,this.form).then((t=>{this.$q.loading.hide(),t&&("function"===typeof this.afterSave&&this.afterSave(t),this.$q.notify({type:"positive",message:"registry modified successfully"}),this.stayAfterSave&&this.$router.go(-1))}))}},created(){}}}}]);